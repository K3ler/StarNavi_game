(this.webpackJsonpstartnavi_game=this.webpackJsonpstartnavi_game||[]).push([[0],{11:function(e,a,t){e.exports={wrapper:"LeaderList_wrapper__2TeV-",content:"LeaderList_content__wrDNd",leaderTitle:"LeaderList_leaderTitle__2DSUL",leaderList:"LeaderList_leaderList__WbY8C"}},12:function(e,a,t){e.exports={message:"Message_message__QN21A",show:"Message_show__2019q",hide:"Message_hide__2yHHQ",winner:"Message_winner__1PtzN",color_change:"Message_color_change__3uzBP"}},14:function(e,a,t){e.exports={leaderItem:"Item_leaderItem__2minK"}},15:function(e,a,t){e.exports={block:"UIBlock_block__ZhK7u",show:"UIBlock_show__3rU0k",loader:"UIBlock_loader__3-ao_"}},21:function(e,a,t){e.exports={app:"App_app__1Ukov",container:"App_container__1YWGW"}},22:function(e,a,t){e.exports={mapCells:"Map_mapCells__-O0sc"}},23:function(e,a,t){e.exports={select:"GameDifficult_select__1umrE"}},24:function(e,a,t){e.exports={usernameControl:"Username_usernameControl__3CLSx",usernameInput:"Username_usernameInput__2pTbr"}},25:function(e,a,t){e.exports={playButton:"PlayButton_playButton__lS0Oy"}},37:function(e,a,t){e.exports={row:"Cells_row__25T4W"}},40:function(e,a,t){e.exports={controls:"Controls_controls__1EepC"}},42:function(e,a,t){e.exports=t(71)},47:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(4),l=t.n(c);t(47),t(48),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(1),s=t(6),u=t(36),i=t(2),p=1,m=2,d=3,f="GENERATE_MAP",_="CHANGE_DELAY",E="CHANGE_VALUE",y="PREV_CELL",b="SETUP_MODES",v="SET_GAME_MODE",O="SET_GAME_STATE",h="RESET_MAP",g="SET_USERNAME",j="SET_USER_SCORE",S="SET_AI_SCORE",N="RESET_PLAYERS",w="SET_WINNER",C="GET_LEADERS",L="ADD_WINNER",k="SET_LEADERS",A="LEADERS_STATUS",T={isGameRunning:!1,cells:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],mapSize:5,modes:[],delay:null,currentDelay:null,prevCell:[0,0]},D={userScore:0,aiScore:0,userName:"",winner:""},M={leaders:[],bestScore:0,isLeadersStatus:!1},R=Object(s.c)({map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case f:return Object(i.a)(Object(i.a)({},e),{},{cells:a.payload.cells,mapSize:a.payload.size});case _:return Object(i.a)(Object(i.a)({},e),{},{delay:a.payload});case E:return Object(i.a)(Object(i.a)({},e),{},{cells:a.payload});case y:return Object(i.a)(Object(i.a)({},e),{},{prevCell:a.payload});case b:return Object(i.a)(Object(i.a)({},e),{},{modes:a.payload});case v:return Object(i.a)(Object(i.a)({},e),{},{currentDelay:a.payload.delay,mapSize:a.payload.mapSize});case O:return Object(i.a)(Object(i.a)({},e),{},{isGameRunning:a.payload});case h:return{isGameRunning:!1,cells:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],mapSize:5,modes:[],delay:null,currentDelay:null,prevCell:[0,0]};default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case g:return Object(i.a)(Object(i.a)({},e),{},{userName:a.payload});case j:return Object(i.a)(Object(i.a)({},e),{},{userScore:a.payload});case S:return Object(i.a)(Object(i.a)({},e),{},{aiScore:a.payload});case w:return Object(i.a)(Object(i.a)({},e),{},{winner:a.payload.winner});case N:return{userScore:0,aiScore:0,userName:"",winner:""};default:return e}},leaderBoard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case C:case L:return Object(i.a)(Object(i.a)({},e),{},{leaders:a.payload});case A:return Object(i.a)(Object(i.a)({},e),{},{isLeadersStatus:a.payload});default:return e}}}),U=t(21),x=t.n(U),B=t(16),I=t(22),G=t.n(I),P=t(37),z=t.n(P),J=t(9),W=t.n(J),H=function(e){var a;a="".concat(e.value===p?W.a.hightlight:"")+"".concat(e.value===d?W.a.user:"")+"".concat(e.value===m?W.a.ai:"");return r.a.createElement("td",{className:"".concat(W.a.cell," ").concat(a),onClick:function(){e.click(e.y,e.x)}})},F=function(e){var a=e.cells.map((function(a,t){return r.a.createElement("tr",{className:z.a.row,key:"a"+t},a.map((function(a,n){return r.a.createElement(H,{y:t,x:n,value:a,click:e.handleClick,key:"a"+t+"b"+n})})))}));return r.a.createElement(r.a.Fragment,null,a)},Y=t(41),V=function(e){return{payload:e,type:_}},K=function(e,a,t){return function(n,r){var c=JSON.parse(JSON.stringify(r().map.cells));c[e][a]=t,n({payload:c,type:E})}},Q=function(e){return function(a,t){-1===e&&(e=0);var n,r=t().map.modes[e],c=r.delay,l=r.field;a({payload:{delay:c,mapSize:l},type:v}),a((n=l,{payload:{cells:Object(Y.a)(Array(n).fill(Array(n).fill(0))),size:n},type:f}))}},q=t(38),Z=t.n(q).a.create({baseURL:"https://starnavi-frontend-test-task.herokuapp.com",timeout:1e4}),$=t(7),X=function(){return function(e){var a;e(ee(!0)),a=function(a){200===a.status?(e(ee(!1)),e({payload:a.data.reverse(),type:C})):$.b.error("Error, check our connection")},Z.get("/winners").then(a)}},ee=function(e){return{payload:e,type:A}},ae=function(e,a){return function(a,t){var n,r,c=JSON.parse(JSON.stringify(t().leaderBoard.leaders)),l=new Date,o=l.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][l.getMonth()]+" "+l.getFullYear(),s=("0"+l.getHours()).slice(-2),u=("0"+l.getMinutes()).slice(-2),i="".concat(s,":").concat(u,"; ")+o;c.reverse(),c.push({winner:e,date:i}),c.reverse(),n={winner:e,date:i},r=function(e){return a(function(e){return{payload:e,type:k}}(e.data.reverse()))},Z.post("/winners",n,{headers:{"Content-Type":"application/json"}}).then(r),a({payload:c,type:L}),a({payload:{winner:e,date:i},type:w})}},te=t(39),ne=function(e){var a=Object(o.b)(),t=Object(o.c)((function(e){return e.map.delay})),c=Object(o.c)((function(e){return e.map.cells})),l=Object(o.c)((function(e){return e.map.mapSize})),s=Object(o.c)((function(e){return e.map.prevCell})),u=Object(o.c)((function(e){return e.player.aiScore})),i=Object(o.c)((function(e){return e.player.userScore})),f=Object(o.c)((function(e){return e.player.userName})),_=function(){return[Math.floor(Math.random()*(l-1-0+1))+0,Math.floor(Math.random()*(l-1-0+1))+0]},E=function(e,a,t){return t[e][a]!==p&&t[e][a]!==m&&t[e][a]!==d},b=function(){for(var e=JSON.parse(JSON.stringify(c)),t=_(),n=Object(B.a)(t,2),r=n[0],l=n[1];!E(r,l,e);){var o=_(),s=Object(B.a)(o,2);r=s[0],l=s[1]}a(K(r,l,p)),a(function(e,a){return{payload:[e,a],type:y}}(r,l))},v=function(){var e=Object(B.a)(s,2),t=e[0],n=e[1];c[t][n]===p&&(a(K(t,n,m)),a({payload:u+1,type:S}))};return Object(n.useEffect)((function(){var e=l*l/2;i>=e&&(a(ae(f,new Date)),a(V(null))),u>=e&&(a(ae("Computer",new Date)),a(V(null)))}),[u,i,l,a,f]),Object(te.a)((function(){v(),b()}),t),r.a.createElement("div",{className:G.a.map},r.a.createElement("table",{className:G.a.mapCells},r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement(F,{cells:c,handleClick:function(e,t){c[e][t]===p&&(a(K(e,t,d)),a({payload:i+1,type:j}))}}))))},re=t(40),ce=t.n(re),le=t(23),oe=t.n(le),se=function(e){var a=Object(o.c)((function(e){return e.map.modes}));return r.a.createElement("div",{className:oe.a.wrapper},r.a.createElement("select",{className:oe.a.select,onChange:e.change},r.a.createElement("option",{value:"-1"},"Game Difficult"),a.map((function(e,a){return r.a.createElement("option",{key:"f"+a,value:a},e.name)}))))},ue=t(24),ie=t.n(ue),pe=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.player.userName}));return r.a.createElement("div",{className:ie.a.usernameControl},r.a.createElement("input",{className:ie.a.usernameInput,onChange:function(a){var t=a.target.value;e(function(e){return{payload:e,type:g}}(t))},value:a,placeholder:"Enter Username"}))},me=t(25),de=t.n(me),fe=function(){return function(e){var a;a=function(a){var t=a.data,n=[];for(var r in t)t[r].name=r,n.push(t[r]);e({payload:n,type:b})},Z.get("/game-settings").then(a)}},_e=function(){var e=Object(o.c)((function(e){return e.map.isGameRunning})),a=Object(o.c)((function(e){return e.map.currentDelay})),t=Object(o.c)((function(e){return e.player.userName})),n=Object(o.b)(),c=function(){if(e)return n({type:h}),n({type:N}),void n(fe());var r;""!==t?a?(n((r=!e,function(e){e({payload:r,type:O})})),n(V(a))):$.b.error("Please select Game Difficult"):$.b.error("Please Enter Username")};return r.a.createElement("div",{className:de.a.control},r.a.createElement("button",{className:de.a.playButton,onClick:function(){c()}},e?"Play again":"Play"))},Ee=function(){var e=Object(o.b)();return r.a.createElement("div",{className:ce.a.controls},r.a.createElement(se,{change:function(a){var t=parseInt(a.target.value);e(Q(t))}}),r.a.createElement(pe,null),r.a.createElement(_e,null))},ye=t(11),be=t.n(ye),ve=t(14),Oe=t.n(ve),he=function(){var e=Object(o.c)((function(e){return e.leaderBoard.leaders})).map((function(e,a){return r.a.createElement("li",{className:Oe.a.leaderItem,key:"ld"+a},r.a.createElement("span",{className:Oe.a.leaderName},e.winner),r.a.createElement("span",{className:Oe.a.leaderDate},e.date))}));return r.a.createElement(r.a.Fragment,null,e)},ge=t(15),je=t.n(ge),Se=function(e){return r.a.createElement("div",{className:"".concat(je.a.block," ").concat(e.status?je.a.show:"")},r.a.createElement("div",{className:je.a.loader},r.a.createElement("div",null),r.a.createElement("div",null)))},Ne=function(){var e=Object(o.c)((function(e){return e.leaderBoard.isLeadersStatus}));return r.a.createElement("div",{className:be.a.wrapper},r.a.createElement(Se,{status:e}),r.a.createElement("div",{className:be.a.content},r.a.createElement("h1",{className:be.a.leaderTitle},"Leader Board"),r.a.createElement("ul",{className:be.a.leaderList},r.a.createElement(he,null))))},we=t(12),Ce=t.n(we),Le=function(){var e=Object(o.c)((function(e){return e.player.winner}));return r.a.createElement("div",{className:"".concat(Ce.a.message)},r.a.createElement("h1",{className:"".concat(""!==e?Ce.a.show:Ce.a.hide)},r.a.createElement("span",{className:Ce.a.winner},""!==e?"".concat(e.toUpperCase()," wins!"):"")))},ke=function(){var e=Object(o.b)();return Object(n.useEffect)((function(){e(fe()),e(X())}),[e]),r.a.createElement("div",{className:x.a.app},r.a.createElement($.a,{position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0}),r.a.createElement(Ee,null),r.a.createElement(Le,null),r.a.createElement("div",{className:x.a.container},r.a.createElement(ne,null),r.a.createElement(Ne,null)))},Ae=Object(s.d)(R,Object(s.a)(u.a));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:Ae},r.a.createElement(ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,a,t){e.exports={cell:"Cell_cell__2feTL",hightlight:"Cell_hightlight__3IvAC",user:"Cell_user__1P8f3",ai:"Cell_ai__1yfVC"}}},[[42,1,2]]]);
//# sourceMappingURL=main.80849fee.chunk.js.map